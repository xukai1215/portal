<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title th:text="${info.themename}+' | Theme | OpenGMS'"></title>

    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/other/jquery-steps.css"/>

    <script src="/static/js/common/vue.min.js"></script>
    <script src="/static/js/common/vue-avatar.min.js"></script>
    <link rel="stylesheet" href="/static/css/base/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/base/universal.css">
    <link rel="stylesheet" href="/static/css/common/navbar.css">
    <link rel="stylesheet" href="/static/css/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/element-ui/theme-chalk/index.css">
    <link rel="stylesheet" href="/static/css/page/theme_info.css">
    <link rel="stylesheet" href="/static/css/base/universal.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/static/data-tables/DT_bootstrap.css"/>
    <!--<link rel="stylesheet" type="text/css" media="screen" href="/static/css/base/style.css"/>-->
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/other/themeEditor.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/other/jquery.tag-editor.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="/static/iCheck/skins/flat/green.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/common/fabric/fabric.min.css"/>
    <link rel="stylesheet" href="/static/css/base/universal.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/other/bootstrap-select.css"/>

    <style>
        .block{
            display: none;
        }
        .el-card__body{
            padding:0;
        }
        .el-menu{
            border:none;
        }
        a:hover{
            text-decoration: none;!important;
        }

        input.spinner {
            background: url(/static/img/input-spinner.gif) right no-repeat !important;
        }

        .btn-block {
            padding: 6px 12px;
        }

        tbody tr td {
            word-wrap: break-word;
            word-break: break-all;
            overflow: hidden;
        }

        .col-sm-2 {
            padding-right: 0px;
            padding-left: 0px;
        }

        .tox .tox-silver-sink .tox-tinymce-aux {
            z-index: 2004;
            background-color: cyan;
        }
    </style>

    <script th:inline="javascript">
        modelClassInfos = [[${modelClassInfos}]]
        console.log(modelClassInfos)
        // for (let i = 0; i <  [[${modelClassInfos}]].length; i++) {
        //     var modelclass =  [[${modelClassInfos}]][i]
        //     console.log(modelclass)
        // }

    </script>
</head>
<body class="scrollbar">
<div id="app">
    <div th:replace="fragments/navbar :: unlog" class="head"></div>
    <div class="container-fluid" v-cloak>
        <div class="row">
            <div class="col-sm-12">
                <div class="row">
                    <!--左侧菜单栏-->
                    <el-card id="subcard" style="min-width: 60px;">
                        <div class="logoPanel">
                        </div>
                        <div slot="header" class="clearfix text-center headerImg" style="position: relative;height: 20vh;padding-bottom: 0px">
                            <img th:src="'/static'+${info.image}" id="header_image" style="border-radius: unset;height: 80%;">
                            <div>
                                <a class="themename_item" th:utext="${info.themename}" style="font-size: 24px;color:#444"></a>
                                <el-input type="text" v-model="form.name" id="edit_themename" class="edit_themename" th:value="${info.themename}" style="display: none"></el-input>
                                <!--<el-button class="edit_themename_button editicon" type="primary"  @click="edit_theme_name" icon="el-icon-edit" circle  style="display: none"></el-button>-->
                            </div>
                        </div>
                        <!--<el-radio-group v-model="isCollapse" style="margin-bottom: 20px;">-->
                        <!--<el-radio-group v-model="isCollapse" style="margin-bottom: 20px;">-->
                        <!--<el-radio-button :label="false">展开</el-radio-button>-->
                        <!--<el-radio-button :label="true">收起</el-radio-button>-->
                        <!--</el-radio-group>-->
                        <el-menu
                                id="leftBottomBody"
                                :default-active="defaultActive"
                                ref="menu"
                                class="el-menu-vertical-demo"
                                @select=""
                                active-text-color="#409EFF"
                                :collapse="isCollapse"
                                :collapse-transition = "false"
                                style="overflow: auto;border-bottom: 1px solid #ccc;height: 60vh">
                            <el-menu-item index="1" th:onclick="'javascript:show(\'detailinfo'+'\',\'BasicInfoPanel\',\'detailIntroducePanel\')'">
                                <i class="el-icon-info"></i>
                                <span slot="title">Theme Info</span>
                            </el-menu-item>
                            <el-submenu th:if="${#arrays.length(modelClassInfos)}" index="2" class="model">
                                <div slot="title">
                                    <i class="el-icon-menu"></i>
                                    <span slot="title">Models</span>
                                </div>

                                <!--                                <div v-for="(modelClass,index) in modelClassInfos">-->
                                <!--                                    <div v-if="modelClass.children == undefined">-->
                                <!--                                        <el-menu-item index="index">选项2</el-menu-item>-->
                                <!--                                        <el-menu-item th:index="'2-'+${index.index}" th:onclick="'javascript:show(\'modelClass'+${index.index}+'\',\'model\',\'block\')'">-->
                                <!--                                            <span slot="title"  th:utext="${modelClass.label}"></span>-->
                                <!--                                        </el-menu-item>-->
                                <!--                                    </div>-->
                                <!--                                </div>-->

                                <div  th:each="modelClass,index:${modelClassInfos}" class="modelmenu">
                                    <div th:if="${#lists.size(modelClass.children)} gt 0">
                                        <el-submenu th:index="'2-'+${index.index}">
                                            <template slot="title" th:utext="${modelClass.label}"></template>
                                            <div th:each="class,index2:${modelClass.children}" >
                                                <!--                                                <el-menu-item index="1-2">选项2</el-menu-item>-->
                                                <el-menu-item th:index="'2-'+${index.index}+'-'+${index2.index}"  th:onclick="'javascript:show(\'modelClass'+${index.index}+'-'+${index2.index}+'\',\'model\',\'block\')'">
                                                    <span slot="title"  th:utext="${class.label}" ></span>
                                                </el-menu-item>
                                            </div>
                                        </el-submenu>
                                    </div>

                                    <div th:if="${#lists.size(modelClass.children)} eq 0">
                                        <el-menu-item th:index="'2-'+${index.index}" th:onclick="'javascript:show(\'modelClass'+${index.index}+'\',\'model\',\'block\')'">
                                            <span slot="title"  th:utext="${modelClass.label}"></span>
                                        </el-menu-item>
                                    </div>
                                </div>

                                <!--                                <div v-for ="(item, index) in modelClassInfos" class="sub_modelmenu">-->
                                <!--                                    <el-menu-item index="'2-'+index.index" @click="show('sub_modelClass'+index,'model')">-->
                                <!--                                        <span slot="title">{{item.mcname}}</span>-->
                                <!--                                    </el-menu-item>-->
                                <!--                                </div>-->
                            </el-submenu>
                            <el-submenu th:if="${#arrays.length(dataClassInfos)}" index="3">
                                <div slot="title">
                                    <i class="el-icon-coin"></i>
                                    <span slot="title">Data</span>
                                </div>
                                <div th:each="dataClass,index:${dataClassInfos}" class="datamenu">
                                    <el-menu-item th:index="'3-'+${index.index}" th:onclick="'javascript:show(\'dataClass'+${index.index}+'\',\'data\')'" >
                                        <span th:utext="${dataClass.name}"></span>
                                    </el-menu-item>
                                </div>
                                <div v-for="(item, index) in dataClassInfos" class="sub_datamenu">
                                    <el-menu-item index="'3-'+index" @click="show('sub_dataClass'+index,'data')">
                                        <span slot="title">{{item.dcname}}</span>
                                    </el-menu-item>
                                </div>
                            </el-submenu>
                            <el-menu-item th:if="${#arrays.length(applications)}" index="4" th:onclick="'javascript:show(\'application\',\'applicationPanel\')'">
                                <i class="el-icon-bangzhu"></i>
                                <span slot="title"  id="applications1">Applications</span>
                            </el-menu-item>
                            <el-menu-item index="5" th:onclick="'javascript:show(\'maintainers1\',\'maintainerPanel\')'">
                                <i class="el-icon-s-custom"></i>
                                <span slot="title" id="maintainer">Maintainers</span>
                            </el-menu-item>
                        </el-menu>
                        <div style="text-align: center;">
                            <el-button id="controlEditButton" type="primary" style="margin:20px;" @click="controlEdit">Enable editing</el-button>
                        </div>
                    </el-card>
                    <!--左侧菜单栏 END-->
                    <div class="col-sm-10" style="overflow: auto;padding:10px 10px;" id="right_content">
                        <div class="infoPanel container-fluid" id="BasicInfoPanel">
                            <div slot="header" class="clearfix text-center themeInfoImge" style="display: none">
                                <img th:src="'/static'+${info.image}" id="header_image1" style="width: 200px; height: 180px;">
                                <div>
                                    <a class="themename_item" th:utext="${info.themename}" style="font-size: 24px;color:#444"></a>
                                    <el-input type="text" v-model="form.name" id="edit_themename" class="edit_themename" th:value="${info.themename}" style="display: none"></el-input>
                                    <!--<el-button class="edit_themename_button editicon" type="primary"  @click="edit_theme_name" icon="el-icon-edit" circle  style="display: none"></el-button>-->
                                </div>
                            </div>
                            <div class="title text-center" style="margin-bottom:40px;">
                                <h3>
                                    <span>Theme Info</span>
                                    <!--<el-button class="editicon" type="primary" @click="edit_theme_info" icon="el-icon-edit" circle style="display: none"></el-button>-->
                                    <el-button class="editIcon" type="primary" @click="edit_theme('0')" icon="el-icon-edit" style="display: none"></el-button>
                                    <!--<a href="javascript:void(0)" class='fa fa-pencil fa-2x' aria-hidden='true' @click="edit_theme_info"></a>-->
                                </h3>
                            </div>
                            <div th:utext="${detail}" id="detailinfo" class="detailIntroducePanel"></div>
                        </div>

                        <div id="model" class="infoPanel container-fluid dataPanel">
                            <div class="title text-center">
                                <h3>
                                    <span>Models</span>
                                    <el-button class="editIcon" type="primary" @click="edit_theme('1')" icon="el-icon-edit" style="display: none"></el-button>
                                </h3>
                            </div>

                            <div th:each="modelClass,index:${modelClassInfos}" class="model_card">

                                <div th:if="${#lists.size(modelClass.children)} gt 0">
                                    <div th:each="class,index2:${modelClass.children}" >
                                        <div class="x_content model_item" th:id="'modelClass'+${index.index}+'-'+${index2.index}" style="width: 100%">
                                            <el-row type="center" id="content" >
                                                <div th:each="item:${class.content}" class="col-md-2 model_col">
                                                    <a th:href="'https://geomodeling.njnu.edu.cn/modelItem/'+${item.oid}" target = "_blank">
                                                        <el-card :body-style="{ padding: '0px'}" shadow="hover" style="width: 100%;height: 220px" id="model_card">
                                                            <!--<img src="/static/img/thematic_center/thumb.png" class="image" id="model_image">-->
                                                            <div th:unless="${item.image}!=''" style="text-align: center;justify-content: center">
                                                                <img src="/static/img/model/model.png" style="width:160px;height: 160px;">
                                                            </div>
                                                            <div th:if="${item.image!=''}">
                                                                <img th:src="'/static'+${item.image}" class="image" style="height: 180px!important;width: 180px!important;">
                                                            </div>
                                                            <div style="text-align: center;justify-content: center">
                                                                <span th:text="${item.name}" class="model_name" style="-webkit-line-clamp: 2; height: 40px;max-width: 150px;margin: 0 auto; word-break:break-all;"></span>
                                                            </div>
                                                        </el-card>
                                                    </a>
                                                </div>
                                            </el-row>
                                        </div>
                                    </div>

                                </div>

                                <div th:if="${#lists.size(modelClass.children)} eq 0">
                                    <div class="x_content model_item" th:id="'modelClass'+${index.index}" style="width: 100%">
                                        <el-row type="center" id="content" >
                                            <div th:each="item:${modelClass.content}" class="col-md-2 model_col">
                                                <a th:href="'https://geomodeling.njnu.edu.cn/modelItem/'+${item.oid}" target = "_blank">
                                                    <el-card :body-style="{ padding: '0px'}" shadow="hover" style="width: 100%;height: 220px" id="model_card">
                                                        <!--<img src="/static/img/thematic_center/thumb.png" class="image" id="model_image">-->
                                                        <div th:unless="${item.image}!=''" style="text-align: center;justify-content: center">
                                                            <img src="/static/img/model/model.png" style="width:160px;height: 160px;">
                                                        </div>
                                                        <div th:if="${item.image!=''}">
                                                            <img th:src="'/static'+${item.image}" class="image" style="height: 180px!important;width: 180px!important;">
                                                        </div>
                                                        <div style="text-align: center;justify-content: center">
                                                            <span th:text="${item.name}" class="model_name" style="-webkit-line-clamp: 2; height: 40px;max-width: 150px;margin: 0 auto; word-break:break-all;"></span>
                                                        </div>
                                                    </el-card>
                                                </a>
                                            </div>
                                        </el-row>
                                    </div>
                                </div>


                            </div>


                        </div>

                        <div id="data" class="infoPanel container-fluid dataPanel">
                            <div class="title text-center">
                                <h3>
                                    <span>Data</span>
                                    <el-button class="editIcon" type="primary" @click="edit_theme('2')" icon="el-icon-edit" style="display: none"></el-button>
                                </h3>
                            </div>
                            <div th:each="dataClass,index:${dataClassInfos}">
                                <div class="x_content data_item" th:id="'dataClass'+${index.index}">
                                    <el-row type="center" class="row-bg" id="content1">
                                        <div th:each="item:${dataClass.content}" style="margin:20px 10px 0 10px;float: left" id="model_col2">
                                            <a th:href="'https://geomodeling.njnu.edu.cn/dataItem/'+${item.oid}" target = "_blank">
                                                <el-card :body-style="{ padding: '0px'}" shadow="hover" style="width:180px;height: 250px">
                                                    <div style="padding: 10px">
                                                        <img src="/static/img/model/myData.png" style="width:160px;height: 160px;">
                                                    </div>

                                                    <div style="padding: 14px;">
                                                        <span th:text="${item.name}" class="data_name" style="-webkit-line-clamp: 2;"></span>
                                                    </div>
                                                </el-card>
                                            </a>
                                        </div>
                                    </el-row>
                                </div>
                            </div>

                        </div>

                        <div class="infoPanel container-fluid applicationPanel" id="applicationPanel">
                            <div class="title text-center">
                                <h3>
                                    <span>Applications</span>
                                    <el-button class="editIcon" type="primary" @click="edit_theme('3')" icon="el-icon-edit" style="display: none"></el-button>
                                </h3>
                            </div>
                            <div id="applications">
                                <div class="x_content application_item"  id="application">
                                    <el-row type="center" class="row-bg" id="content2">
                                        <div th:each="item:${applications}" style="margin:20px 10px 0 10px;float: left" id="model_col3">
                                            <a th:href="${item.link}" target = "_blank">
                                                <el-card :body-style="{ padding: '0px'}" shadow="hover" style="width:180px;height: 250px">
                                                    <img th:src="'/static'+${item.image}" class="image" id="application_image">
                                                    <div style="padding: 14px;">
                                                        <span th:text="${item.name}"></span>
                                                    </div>
                                                </el-card>
                                            </a>
                                        </div>
                                    </el-row>
                                </div>
                            </div>
                        </div>

                        <div class="infoPanel container-fluid maintainerPanel" id="maintainerPanel">
                            <div class="title text-center">
                                <h3>
                                    <span>Maintainers</span>
                                </h3>
                            </div>
                            <div id="maintainers">
                                <div class="x_content"  id="maintainers1" style="display: contents;">
                                    <!--<el-row type="center" class="row-bg" id="content2">-->
                                    <div v-for="(item, index) in maintainer" :key="index">
                                        <el-col :span="8" style="padding:10px;height:350px;width:230px">
                                            <div class="el-card__body" style="padding: 0px;">
                                                <a :href="'/profile/' + item.name" class="md-opjjpmhoiojifppkkcdabiobhakljdgm_doc">
                                                    <img :src="'/static/user/'+ item.image" onerror="this.src='/static/img/icon/default.png'; this.onerror='null'" class="image"></a>
                                                <div style="padding: 14px;background-color: white">
                                                    <p style="text-align: center;">{{ item.name }}</p>
                                                </div>
                                            </div>
                                            <!--                                            <el-card :body-style="{ padding: '0px' }" target="_blank" style="height: 40px">-->
                                            <!--                                                <el-avatar :size="40" src="'/static' + item.image" @error="errorHandler" style="float: left">-->
                                            <!--                                                    <img src="/static/img/icon/default.png"/>-->
                                            <!--                                                </el-avatar>-->
                                            <!--                                                <div style="height:40px;display:flex;align-items:center;text-align: left;vertical-align: middle;margin-left: 50px">{{ item.name }}</div>-->
                                            <!--&lt;!&ndash;                                                <a :href="'/profile/'+item.name"><img :src="'/static' + item.image" class="image" /></a>&ndash;&gt;-->
                                            <!--&lt;!&ndash;                                                <div style="display: inline-block;width: 55%">&ndash;&gt;-->
                                            <!--&lt;!&ndash;                                                    &ndash;&gt;-->
                                            <!--&lt;!&ndash;&lt;!&ndash;                                                    <div class="bottom clearfix">&ndash;&gt;&ndash;&gt;-->
                                            <!--&lt;!&ndash;&lt;!&ndash;                                                        <el-button type="text" class="button">Detail</el-button>&ndash;&gt;&ndash;&gt;-->
                                            <!--&lt;!&ndash;&lt;!&ndash;                                                    </div>&ndash;&gt;&ndash;&gt;-->
                                            <!--&lt;!&ndash;                                                </div>&ndash;&gt;-->
                                            <!--                                            </el-card>-->
                                        </el-col>
                                    </div>
                                    <!--                                        <el-col th:each="item:${maintainer}" style="margin:20px 20px 0 0;float: left">-->
                                    <!--                                            <el-card>-->
                                    <!--                                            <a th:href="'/profile/'+${item.name}" target = "_blank">-->
                                    <!--                                                    <div  style="margin: 5px;height: 40px;display: flex;justify-content: center;-->
                                    <!--                                                    align-items: center;padding: 10px;">-->
                                    <!--                                                        <div class="el-col ">-->
                                    <!--                                                            <img th:src="${item.image}"-->
                                    <!--                                                                 class="round_icon" style="width:40px;height: 40px;float:left;">-->
                                    <!--                                                        </div>-->
                                    <!--                                                        <div class="el-col">-->
                                    <!--                                                            <div class="pull-left" style="display: block;margin-left: 15px;">-->
                                    <!--                                                                <h4  th:text="${item.name}" style="padding: 0;"></h4>-->
                                    <!--                                                            </div>-->
                                    <!--                                                        </div>-->
                                    <!--                                                    </div>-->
                                    <!--                                                </a>-->
                                    <!--                                            </el-card>-->
                                    <!--                                        </el-col>-->
                                    <!--</el-row>-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <el-dialog
            v-cloak
            title="Edit Theme"
            :visible.sync="dialogVisible3"
            width="90%"
            :before-close="handleClose">
        <div style="height: 80%;">
            <el-steps :active="editThemeActive" finish-status="success" align-center>
                <el-step class="editThemeStep" @click.native="edit_theme('0')" title="Theme Info"></el-step>
                <el-step class="editThemeStep" @click.native="edit_theme('1')" title="Models"></el-step>
                <el-step class="editThemeStep" @click.native="edit_theme('2')" title="Data"></el-step>
                <el-step class="editThemeStep" @click.native="edit_theme('3')" title="Applications"></el-step>
            </el-steps>
            <el-card :style="{display:(editThemeActive==0?'block':'none')}" shadow="never">
                <div id="RepositoryParentsPanel">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label for="nameInput"
                                   class="col-sm-2 control-label"
                                   style="width: 110px;font-weight: bold">Theme
                                Name:</label>
                            <div style="display: inline-block;">
                                <input type="text" class="form-control"
                                       id="nameInput"/>
                            </div>
                        </div>
                    </div>

                    <div class="form-horizontal">
                        <div class="form-group">
                            <label for="nameInput"
                                   class="col-sm-2 control-label"
                                   style="width: 110px;font-weight: bold">Theme
                                Image:</label>
                            <div style="display: inline-block;">
                                <img id="imgShow" src=""/>
                                <div id="imgChange" @click="uploadImg" class="cursorPointer" style="width: 72px">
                                    <i class="fa fa-plus fa-5x"></i>
                                </div>
                                <input id="imgFile" type="file"
                                       style="display: none"
                                       accept="image/*"/>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="height: 22px">
                    <label for="nameInput"
                           class="col-sm-2 control-label"
                           style="width: 110px;font-weight: bold">Description:</label>
                </div>
                <textarea id="themeText"></textarea>
            </el-card>
            <el-card :style="{display:(editThemeActive==1?'block':'none')}" shadow="never">
                <div class="panel-body">
                    <!--实验tabs-->
                    <el-card>
                        <el-button type="success"
                                   style="position: absolute;right: 25px;z-index: 999"
                                   @click="modelClass_add()">Add New Category
                        </el-button>
                        <el-tabs v-model="editableTabsValue_model"
                                 type="card" editable
                                 @edit="handleTabsEdit_model">
                            <el-tab-pane
                                    :key="item.name"
                                    v-for="(item, index) in editableTabs_model"
                                    :label="item.title"
                                    :name="item.name"
                                    id="el_model"
                            >
                                <div class='model-attr'>
                                    <div>
                                        <lable class='control-label col-sm-2 text-center'
                                               style='font-weight: bold;'>
                                            Category Name:
                                        </lable>
                                        <div class='input-group'>
                                            <input type='text'
                                                   :id="'categorynameModel'+index"
                                                   name="name"
                                                   class='form-control category_name'>
                                        </div>
                                    </div>

                                    <el-card class="box-c<!---->ard"
                                             style="width:40%;margin-right: 1%;float: left;"
                                             id="step1_left">
                                        <div slot="header"
                                             class="clearfix">
                                            <span>Selected Items</span>
                                        </div>
                                        <!--<li v-for="site in tableDataarr"></li>-->
                                        <el-table
                                                :data="item.tabledata"
                                                ref="leftTable"
                                                :max-height="tableMaxHeight">
                                            <el-table-column
                                                    type="expand">
                                                <template
                                                        slot-scope="props">
                                                    <el-form
                                                            label-position="left"
                                                            inline
                                                            class="demo-table-expand">
                                                        <el-form-item
                                                                label="Contributor">
                                                            <span>{{ props.row.author }}</span>
                                                        </el-form-item>

                                                    </el-form>
                                                </template>
                                            </el-table-column>
                                            <el-table-column
                                                    label="Name">
                                                <template
                                                        slot-scope="props">
                                                    <a :href="'/'+relateType+'/'+props.row.oid"
                                                       target="_blank">{{props.row.name}}</a>
                                                </template>
                                            </el-table-column>

                                            <el-table-column
                                                    fixed="right"
                                                    label="Operation"
                                                    width="100">
                                                <template
                                                        slot-scope="scope">

                                                    <el-button
                                                            size="mini"
                                                            type="danger"
                                                            @click="handleDelete1(scope.$index, scope.row)">
                                                        Delete
                                                    </el-button>
                                                </template>
                                            </el-table-column>
                                        </el-table>
                                    </el-card>
                                    <el-card class="box-card"
                                             style="width:59%;"
                                             id="step1_right">
                                        <el-input
                                                placeholder="Please enter name..."
                                                v-model="relateSearch"
                                                class="input-with-select">
                                            <el-button slot="append"
                                                       icon="el-icon-search"
                                                       @click="search1()"></el-button>
                                        </el-input>
                                        <el-table
                                                :data="pageOption1.searchResult"
                                                style="margin-top:17px;"
                                                :max-height="tableMaxHeight">
                                            <el-table-column
                                                    type="expand">
                                                <template
                                                        slot-scope="props">
                                                    <el-form
                                                            label-position="left"
                                                            inline
                                                            class="demo-table-expand">
                                                        <el-form-item
                                                                label="Detail">
                                                            <span>{{ props.row.description }}</span>
                                                        </el-form-item>

                                                    </el-form>
                                                </template>
                                            </el-table-column>
                                            <el-table-column
                                                    label="Name">
                                                <template
                                                        slot-scope="props">
                                                    <a :href="'/repository/'+relateType+'/'+props.row.oid"
                                                       target="_blank">{{props.row.name}}</a>
                                                </template>
                                            </el-table-column>
                                            <el-table-column
                                                    label="Contributor"
                                                    prop="author">
                                            </el-table-column>
                                            <el-table-column
                                                    fixed="right"
                                                    label="Operation"
                                                    width="100">
                                                <template
                                                        slot-scope="scope">
                                                    <el-button
                                                            size="mini"
                                                            @click="handleEdit(scope.$index, scope.row)">
                                                        Add
                                                    </el-button>
                                                </template>
                                            </el-table-column>
                                        </el-table>
                                        <el-pagination
                                                style="text-align: center;margin-top:20px"
                                                @current-change="handlePageChange1"
                                                :current-page="pageOption1.currentPage"
                                                layout="total, prev, pager, next, jumper"
                                                :page-size="5"
                                                :total="pageOption1.total">
                                        </el-pagination>
                                    </el-card>
                                </div>
                            </el-tab-pane>
                        </el-tabs>

                    </el-card>
                </div>
            </el-card>
            <el-card :style="{display:(editThemeActive==2?'block':'none')}" shadow="never">
                <div class="panel-body">
                    <el-card>
                        <el-button type="success"
                                   style="position: absolute;right: 25px;z-index: 999"
                                   @click="dataClass_add()">Add New
                            Category
                        </el-button>
                        <el-tabs v-model="editableTabsValue_data"
                                 type="card" editable
                                 @edit="handleTabsEdit_data">
                            <el-tab-pane
                                    :key="item.name"
                                    v-for="(item, index) in editableTabs_data"
                                    :label="item.title"
                                    :name="item.name"
                            >
                                <div class='data-attr'>
                                    <div>
                                        <lable class='control-label col-sm-2 text-center'
                                               style='font-weight: bold;'>
                                            Category Name:
                                        </lable>
                                        <div class='input-group'>
                                            <input type='text'
                                                   :id="'categorynameData'+index"
                                                   name="name"
                                                   class='form-control category_name2'>
                                        </div>
                                    </div>
                                </div>
                                <el-card class="box-card"
                                         style="width:40%;margin-right: 1%;float: left;"
                                         id="step2_left">
                                    <div slot="header" class="clearfix">
                                        <span>Selected Items</span>
                                    </div>
                                    <el-table
                                            :data="item.tabledata"
                                            ref="leftTable"
                                            :max-height="tableMaxHeight">
                                        <el-table-column type="expand">
                                            <template
                                                    slot-scope="props">
                                                <el-form
                                                        label-position="left"
                                                        inline
                                                        class="demo-table-expand">
                                                    <el-form-item
                                                            label="Contributor">
                                                        <span>{{ props.row.author }}</span>
                                                    </el-form-item>

                                                </el-form>
                                            </template>
                                        </el-table-column>
                                        <el-table-column
                                                label="Name">
                                            <template
                                                    slot-scope="props">
                                                <a :href="'/'+relateType+'/'+props.row.oid"
                                                   target="_blank">{{props.row.name}}</a>
                                            </template>
                                        </el-table-column>

                                        <el-table-column fixed="right"
                                                         label="Operation"
                                                         width="100">
                                            <template
                                                    slot-scope="scope">

                                                <el-button
                                                        size="mini"
                                                        type="danger"
                                                        @click="handleDelete2(scope.$index, scope.row)">
                                                    Delete
                                                </el-button>
                                            </template>
                                        </el-table-column>
                                    </el-table>
                                </el-card>
                                <el-card class="box-card"
                                         style="width:59%;"
                                         id="step2_right">
                                    <el-input
                                            placeholder="Please enter name..."
                                            v-model="relateSearch"
                                            class="input-with-select">
                                        <el-button slot="append"
                                                   icon="el-icon-search"
                                                   @click="search2()"></el-button>
                                    </el-input>
                                    <el-table
                                            :data="pageOption2.searchResult"
                                            style="margin-top:17px;"
                                            :max-height="tableMaxHeight">
                                        <el-table-column type="expand">
                                            <template
                                                    slot-scope="props">
                                                <el-form
                                                        label-position="left"
                                                        inline
                                                        class="demo-table-expand">
                                                    <el-form-item
                                                            label="Detail">
                                                        <span>{{ props.row.description }}</span>
                                                    </el-form-item>

                                                </el-form>
                                            </template>
                                        </el-table-column>
                                        <el-table-column
                                                label="Name">
                                            <template
                                                    slot-scope="props">
                                                <a :href="'/repository/'+relateType+'/'+props.row.oid"
                                                   target="_blank">{{props.row.name}}</a>
                                            </template>
                                        </el-table-column>
                                        <el-table-column
                                                label="Contributor"
                                                prop="author">
                                        </el-table-column>
                                        <el-table-column fixed="right"
                                                         label="Operation"
                                                         width="100">
                                            <template
                                                    slot-scope="scope">
                                                <el-button
                                                        size="mini"
                                                        @click="handleEdit1(scope.$index, scope.row)">
                                                    Add
                                                </el-button>
                                            </template>
                                        </el-table-column>
                                    </el-table>
                                    <el-pagination
                                            style="text-align: center;margin-top:20px"
                                            @current-change="handlePageChange2"
                                            :current-page="pageOption2.currentPage"
                                            layout="total, prev, pager, next, jumper"
                                            :page-size="5"
                                            :total="pageOption2.total">
                                    </el-pagination>
                                </el-card>
                            </el-tab-pane>
                        </el-tabs>
                    </el-card>
                </div>
            </el-card>
            <el-card :style="{display:(editThemeActive==3?'block':'none')}" shadow="never">
                <div class="panel-body">
                    <el-card>
                        <el-button type="success"
                                   style="position: absolute;right: 25px;z-index: 999"
                                   @click="Application_add()">Add New
                            Application
                        </el-button>
                        <el-tabs
                                v-model="editableTabsValue_applications"
                                type="card" editable
                                @edit="handleTabsEdit_applications">
                            <el-tab-pane
                                    :key="item.name"
                                    v-for="(item, index) in editableTabs_applications"
                                    :label="item.title"
                                    :name="item.name"
                                    id="add_tabs"
                            >
                                <div class='user-attr3'>
                                    <div>
                                        <lable class='control-label col-sm-2 text-center'
                                               style='font-weight: bold;'>
                                            Name:
                                        </lable>
                                        <div class='input-group'>
                                            <input type='text'
                                                   :id="'applicationName'+index"
                                                   name="name"
                                                   class='form-control application_name'>
                                        </div>
                                    </div>
                                    <div style="margin-top:10px">
                                        <lable class='control-label col-sm-2 text-center'
                                               style='font-weight: bold;'>
                                            Link:
                                        </lable>
                                        <div class='input-group'>
                                            <input type='text'
                                                   :id="'applicationLink'+index"
                                                   name="name"
                                                   class='form-control application_link'>
                                        </div>
                                    </div>
                                    <div style="margin-top:10px">
                                        <lable class='control-label col-sm-2 text-center'
                                               style='font-weight: bold;'>
                                            Image:
                                        </lable>
                                        <div>
                                            <img :id="'imgShowApplication'+index"
                                                 class="img_Show1"
                                                 style="
                                                                                            border: 1px solid #ccc;
                                                                                            width: 100px;
                                                                                            height: 100px;
                                                                                            text-align: center;
                                                                                            display: none;
                                                                                            float: left;
                                                                                            margin-right: 10px;"
                                                 src=""/>
                                            <div :id="'imgChangeAppliction'+index"
                                                 @click = "uploadApplicationImg(index)"
                                                 class="imgChange"
                                                 style=" border: 1px solid #ccc;
                                                                                            width: 100px;
                                                                                            height: 100px;
                                                                                            text-align: center;
                                                                                            line-height: 150px;
                                                                                            vertical-align: middle;
                                                                                            color: #ccc;
                                                                                            float: left;">
                                                <i class="fa fa-plus fa-5x"></i>
                                            </div>
                                            <input :id="'imgFileApplication'+index"
                                                   class="img_fileApplication"
                                                   type="file"
                                                   style="display: none"
                                                   accept="image/*"/>
                                        </div>
                                    </div>
                                </div>
                            </el-tab-pane>
                        </el-tabs>
                    </el-card>
                </div>
            </el-card>
            <!--<el-button style="margin-top: 12px;" @click="next">Next</el-button>-->
            <el-button circle icon="el-icon-arrow-left"
                       :style="{visibility:(editThemeActive>0?'visible':'hidden')}" class="el-button--primary"
                       style="margin-top: 12px;position: absolute;left:4%;top:55px;"
                       @click="editThemePre"></el-button>
            <el-button circle icon="el-icon-arrow-right" v-if="editThemeActive<3" class="el-button--primary"
                       style="margin-top: 12px;position: absolute;right:4%;top:55px;"
                       @click="editThemeNext"></el-button>
            <el-button circle icon="el-icon-check" v-if="editThemeActive>=3" class="el-button--success"
                       style="margin-top: 12px;position: absolute;right:4%;top:55px;"
                       @click="editThemeFinish"></el-button>
        </div>
    </el-dialog>

</div>

</body>

<script src="/static/KnowledgeGraph/js/jquery.js"></script>
<script src="/static/js/common/jquery-3.3.1.min.js"></script>
<script src="/static/js/common/bootstrap.min.js"></script>
<script src="/static/js/common/axios.min.js"></script>
<script src="/static/js/common/vue.min.js"></script>

<script type="text/javascript" src="/static/js/common/jquery.tag-editor.js"></script>
<script type="text/javascript" src="/static/js/common/bootstrap-treeview.js"></script>
<script type="text/javascript" src="/static/js/common/jquery-steps.js"></script>
<script src="/static/js/common/vue-avatar.min.js"></script>
<!--<script src="/static/js/tinymce/tinymce.min.js"></script>-->
<script src="/static/js/tinymce_5.3.2/tinymce/js/tinymce/tinymce.min.js"></script>
<script src="/static/element-ui/index.js"></script>
<script src="/static/element-ui/umd/locale/en.js"></script>

<script type="text/javascript" src="/static/js/common/pageEn.js"></script>
<script src="/static/js/common/bootstrap.min.js"></script>

<script src="/static/iCheck/jquery.icheck.min.js"></script>

<script src="/static/js/page/theme_info.js"></script>
<script src="/static/js/common/navbar.js"></script>
<!--<script src="/static/socket/message.js"></script>-->
<script src="/static/socket/jquery.min.js"></script>
<script src="/static/socket/sockjs.min.js"></script>
<script src="/static/js/page/create-theme.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jutils-src"></script>
<!--<script type="text/javascript" src="/static/js/page/userSpace1.js"></script>-->

</html>
