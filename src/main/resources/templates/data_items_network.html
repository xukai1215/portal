<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Data Item NetWork | OpenGMS</title>

    <script src="/static/js/common/vue.min.js"></script>
    <script src="/static/js/common/vue-avatar.min.js"></script>

    <script src="/static/element-ui/index.js"></script>
    <link rel="stylesheet" href="/static/element-ui/theme-chalk/index.css">

    <link rel="stylesheet" href="/static/css/base/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/css/base/style.css">
    <link rel="stylesheet" href="/static/css/base/universal.css">
    <link rel="stylesheet" href="/static/css/base/list.css">
    <link rel="stylesheet" href="/static/css/base/tree.css">
    <link rel="stylesheet" href="/static/css/other/bootstrap-select.css">
    <link rel="stylesheet" href="/static/css/page/model_items.css">
    <link rel="stylesheet" href="/static/css/base/bootstrap-tagsinput.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/common/navbar.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/common/footerResponse.css" />

    <style>
        .content-body .list-item:not(:first-child) {
            margin-top: -1px;
        }
        .bootstrap-tagsinput{
            min-height:36px;
        }
        .bootstrap-tagsinput input{
            min-height:26px;
        }
        .el-collapse-item__content{
            padding-bottom: 0px;
        }
        .el-collapse-item__header{
            font-size: 14px;
        }
    </style>

</head>
<body>
<div id="data_items" v-cloak>
    <div th:replace="fragments/navbar :: unlog"></div>

    <div class="clearfix" style="margin-bottom: 40px;">
        <div class="mainContent">
            <div class="el-row">
                <div class="data-top">
                    <h2 class="main-title">Data Item NetWork</h2>
                    <h4 class="sub-title">The network of data (one-stop hub with public shared data resources)
                    </h4>
                    <button class="btn btn-success btn-lg" style="font-size: 15px;margin:10px;" @click="contribute()">+ Contribute</button>
                </div>
                <hr>
            </div>

            <div class="el-col el-col-6 minScreen_maxWidth" style="margin-top:29px;">
                <el-card class="box-card categoryList">
                    <div slot="header" class="clearfix text-center">
                        <span style="font-size: 20px;color:#444">Data Categories</span>
                    </div>
                    <el-collapse v-model="activeNames" @change="handleChange">
                        <el-collapse-item title="Application-focused categories" name="1">
                            <el-collapse v-model="activeNames1" @change="handleChange1">
                                <el-collapse-item title="Natural-perspective" style="margin-left: 10%;" name="11">
                                    <el-button type="text" id="5f3e42070e989714e8364e9a" @click="chooseCate('5f3e42070e989714e8364e9a')">Land regions</el-button>
                                    <el-button type="text" id="5f3e422a0e989714e8364e9c" @click="chooseCate('5f3e422a0e989714e8364e9c')">Ocean regions</el-button>
                                    <el-button type="text" id="5f3e42360e989714e8364e9e" @click="chooseCate('5f3e42360e989714e8364e9e')">Frozen regions</el-button>
                                    <el-button type="text" id="5f3e42400e989714e8364ea0" @click="chooseCate('5f3e42400e989714e8364ea0')">Atmospheric regions</el-button>
                                    <el-button type="text" id="5f3e424c0e989714e8364ea2" @click="chooseCate('5f3e424c0e989714e8364ea2')">Space-earth regions</el-button>
                                    <el-button type="text" id="5f3e42550e989714e8364ea4" @click="chooseCate('5f3e42550e989714e8364ea4')">Solid-earth regions</el-button>
                                    <!--                                    <el-button type="text" id="5f3e42610e989714e8364ea6" @click="chooseCate('5f3e42610e989714e8364ea6')" style="font-size: x-small">Integrated Perspective</el-button>-->
                                </el-collapse-item>
                                <el-collapse-item title="Human-perspective" style="margin-left: 10%;" name="12">
                                    <el-button type="text" id="5f3e42780e989714e8364ea8" @click="chooseCate('5f3e42780e989714e8364ea8')">Development activities</el-button>
                                    <el-button type="text" id="5f3e42830e989714e8364eaa" @click="chooseCate('5f3e42830e989714e8364eaa')">Social activities</el-button>
                                    <el-button type="text" id="5f3e428c0e989714e8364eac" @click="chooseCate('5f3e428c0e989714e8364eac')">Economic activities</el-button>
                                    <!--                                    <el-button type="text" id="5f3e42940e989714e8364eae" @click="chooseCate('5f3e42940e989714e8364eae')" style="font-size: x-small">Integrated Perspective</el-button>-->
                                </el-collapse-item>
                                <el-collapse-item title="Integrated-perspective" style="margin-left: 10%;" name="13">
                                    <el-button type="text" id="5f6c424eefdc249e286947b8" @click="chooseCate('5f6c424eefdc249e286947b8')">Global scale</el-button>
                                    <el-button type="text" id="5f6c42d2efdc249dc47f4665" @click="chooseCate('5f6c42d2efdc249dc47f4665')">Regional scale</el-button>
                                </el-collapse-item>
                            </el-collapse>
                        </el-collapse-item>
                        <el-collapse-item title="Method-focused categories" style="font-size: 14px;" name="2">
                            <el-collapse v-model="activeNames2" @change="handleChange1">
                                <el-collapse-item title="Data-perspective" style="margin-left: 10%;font-size: 14px;" name="21">
                                    <el-button type="text" id="5f3e42ac0e989714e8364eb0" @click="chooseCate('5f3e42ac0e989714e8364eb0')">Geoinformation analysis</el-button>
                                    <el-button type="text" id="5f3e42b40e989714e8364eb2" @click="chooseCate('5f3e42b40e989714e8364eb2')">Remote Sensing analysis</el-button>
                                    <el-button type="text" id="5f3e42bc0e989714e8364eb4" @click="chooseCate('5f3e42bc0e989714e8364eb4')">Geostatistical analysis</el-button>
                                    <el-button type="text" id="5f3e42c30e989714e8364eb6" @click="chooseCate('5f3e42c30e989714e8364eb6')">Intelligent computation analysis</el-button>
                                </el-collapse-item>
                                <el-collapse-item title="Process-perspective" style="margin-left: 10%;font-size: 14px;" name="22">
                                    <el-button type="text" id="5f3e42d40e989714e8364eb8" @click="chooseCate('5f3e42d40e989714e8364eb8')">Physical process calculation</el-button>
                                    <el-button type="text" id="5f3e42dc0e989714e8364eba" @click="chooseCate('5f3e42dc0e989714e8364eba')">Chemical process calculation</el-button>
                                    <el-button type="text" id="5f3e42e30e989714e8364ebc" @click="chooseCate('5f3e42e30e989714e8364ebc')">Biological process calculation</el-button>
                                    <el-button type="text" id="5f3e42ec0e989714e8364ebe" @click="chooseCate('5f3e42ec0e989714e8364ebe')">Human-activity calculation</el-button>
                                </el-collapse-item>
                            </el-collapse>
                        </el-collapse-item>
                    </el-collapse>
                </el-card>


            </div>

            <div class="el-col el-col-18 minScreen_maxWidth" >
                <div class="searcherPanel">

                    <div class="searcherPanel">
                        <div class="searcherInputPanel" @keydown.enter="search()">
                            <input id="searchBox" type="text" placeholder="Data Item Name..." v-model="searchText">
                            <button @click="search()"><i class="glyphicon glyphicon-search"></i> Search</button>
                        </div>
                    </div>

                </div>



                <div class="progressPanel">
                    <span class="barControl">
                        <div class="barContro_space">
                            <span class="progress_line" :class="{active:progressBar}"></span>
                        </div>
                    </span>
                </div>
                <div  class="alert alert-success" role="alert" style="margin-bottom: 2px;">

                    <span > <strong class="minScreen_curClass">{{ca!=''&&searchText.length==0?( ca=="We collect data from public hubs.."?"We collect data from public hubs..":"Current Category: "+ca):''}} </strong> <strong>{{searchText.length!=0&&ca==''?"Current Keywords: "+searchText:''}} </strong>  <strong style="float: right">{{datacount!=0 ?(datacount===-1?'loading...':datacount+' items'):'no data'}}</strong></span><br>
                    <span>  </span>
                    <span></span>

                </div>
                <!--v-loading-->

                <div class="maincontnt"  v-loading="loading">
                    <div class="modelPanel" >

                        <div  class="content-body">
                            <div class="list-item" v-for="(item,index) in list" :key="index">
                                <div class="detail_title">
                                    <el-tooltip popper-class="fontsize-15" effect="light" :content="item.status" placement="left">
                                        <i v-if="item.status=='Public'" class="el-icon-unlock public fontsize-24 pull-right"></i>
                                        <i v-if="item.status=='Discoverable'" class="el-icon-unlock discoverable fontsize-24 pull-right"></i>
                                    </el-tooltip>
                                    <!--<a :href="goto(item.id)"   ><h3 style="display: inline-block">{{item.name}}&nbsp&nbsp</h3></a>-->
                                    <a :class="item.viewCount>100?'hot':''" :href="goto(item.id)" target="_blank" >{{item.name}}&nbsp&nbsp</a>
                                    <!---->

                                </div>
                                <div class="detail_overview">
                                    <a class="img" :href="'/dataItem/'+ item.id" target="_blank">
                                        <avatar  :username="item.name" :size="90"
                                                 :rounded="false"></avatar>


                                    </a>

                                    <div class="info">
                                        <p style="height:40px;-webkit-line-clamp:2;">{{item.description}}</p>
                                        <div class="tags" v-for="(tagitem,ind) in item.keywords" :key="ind" style="display: inline-block">
                                            <span class="badge badge-info" >{{tagitem}}</span>

                                        </div>
                                    </div>
                                </div>
                                <hr>

                                <div class="detail_bottom">
                                    <div style="display:inline-block;float: left;">
                                        <a :href="'/user/'+users[index].oid">
                                            <img :src="users[index].image==''?'/static/img/icon/default.png':users[index].image" class="round_icon"
                                                 style="margin-top:-5px;width:30px;height: 30px;display: inline-block;">
                                        </a>
                                        <a :href="'/user/'+users[index].oid" style="display: inline-block;margin-left: 5px;"><h4>{{users[index].name}}</h4></a>


                                        <h4 class="screen_view">contributed at {{formatDate(item.createTime).substring(0,10)}}</h4>
                                        <h4 class="mobile_view">{{formatDate(item.createTime).substring(0,10)}}</h4>
                                    </div>
                                    <div class="detail_option">


                                        <a class="fa fa-eye" aria-hidden="true"></a>&nbsp&nbsp{{item.viewCount}}
                                        <!--<a class="fa fa-thumbs-o-up" aria-hidden="true"></a>{{item.description}}-->
                                    </div>
                                    <br>
                                </div>
                            </div>
                        </div>

                    </div>

                    <el-pagination style="text-align: center;margin-top:20px"
                                   @current-change="handleCurrentChange"

                                   :page-size="findDto.pageSize"
                                   :current-page="findDto.page"
                                   layout="total,prev, pager, next, jumper"
                                   :total="datacount">
                    </el-pagination>
                </div>

                <div class="manyhub" >
                    <div>
                        <el-card class="hub_items" v-for="(item,index) in list" :key="index" style="width:20%;height: 140px;float: left;margin-top: 10px">
                            <!--<img src="/static/img/hubs.jpg" style="width:70%;margin-left:15%">-->
                            <div class="el-row" >
                                <a   :href="item.url" target="_blank"  >
                                    <avatar  :username="item.title"  :size="100"
                                             class="center-block" ></avatar>


                                </a>
                            </div>
                            <center><a :href=item.url target="_blank" :title=item.url><h5>{{item.title}}</h5></a></center>

                        </el-card>
                    </div>
                    <br>
                    <div class="el-row" ><br>
                        <center><el-button  v-loading="loading" id="addmore" @click="addmorehubs">View More</el-button></center>
                    </div>

                </div>

            </div>
        </div>
    </div>
    <!--<el-card th:object="${dataitems}">-->
    <!--<p th:text="${dataitems}"></p>-->
    <!--</el-card>-->

    <div th:replace="fragments/footer :: footer"></div>

</div>

</body>

<script src="/static/js/common/jquery-3.3.1.js"></script>



<script src="/static/js/common/axios.min.js"></script>
<script src="/static/js/common/bootstrap.js"></script>
<script src="/static/js/common/bootstrap-select.js"></script>

<!--<script src="/static/js/element-ui-index.js" th:src="@{/static/js/element-ui-index.js}"></script>-->

<script src="/static/js/common/bootstrap-tagsinput.js"></script>



<script src="/static/js/page/data_items.js"></script>
<script  async src="/static/js/common/loadUser.js" ></script>
<script src="/static/element-ui/umd/locale/en.js"></script>
<script src="/static/js/common/navbar.js"></script>
</html>